<div id="fretboard" >
<div id="neck-position-div"></div>
<%= form_for(@guitar_study) do |f| %>

  <%= f.hidden_field @guitar_study.formula, :value => @formula.formula, :id => "formula" %>
  <%= f.hidden_field @guitar_study.formula, :value => @formula.name, :id => "formula-name"%>
  <%= f.hidden_field @guitar_study.key, :value => @guitar_study.key, :id => "key" %>
  <%= f.hidden_field @guitar_study.tonic, :value => @guitar_study.tonic, :id => "tonic" %>

<% end %>
  <svg id="guitar-svg" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 1590 200" preserveAspectRatio="xMidYMid meet" width="1590" height="200">
    <g color="rgb(51, 51, 51)">

    <linearGradient id="Gradient1" x1="1" x2="0" y1="0" y2="0" >
      <stop offset="0%" stop-color="gray" />
      <stop offset="25%" stop-color="lightgray" />
      <stop offset="50%" stop-color="lightgray" />
      <stop offset="75%" stop-color="lightgray" />
      <stop offset="100%" stop-color="gray" />
    </linearGradient>
    <linearGradient id="Gradient2" x1="0" x2="0" y1="0" y2="1" >
      <stop offset="0%" stop-color="lightgray" />
      <stop offset="25%" stop-color="gray" />
      <stop offset="50%" stop-color="carbon" />
      <stop offset="75%" stop-color="gray" />
      <stop offset="100%" stop-color="lightgray" />
    </linearGradient>

    <!-- binding -->
    <rect class="string" x="0" y="0" width="1588" height="1" fill="rgba(175, 175, 175)" />
    <rect class="string" x="0" y="1" width="1588" height="147" fill="rgba(200, 200, 200, .2)" />
    <rect class="string" x="0" y="146" width="1588" height="1" fill="rgba(175, 175, 175)" />

    <!-- inlay -->
    <circle cx="166" cy="74" r="3" stroke-width="6" stroke="currentcolor" />
    <circle cx="298" cy="74" r="3" stroke-width="6" stroke="currentcolor" />
    <circle cx="430" cy="74" r="3" stroke-width="6" stroke="currentcolor" />
    <circle cx="562" cy="74" r="3" stroke-width="6" stroke="currentcolor" />
    <circle cx="760" cy="125" r="3" stroke-width="6" stroke="currentcolor" />
    <circle cx="760" cy="25" r="3" stroke-width="6" stroke="currentcolor" />
    <circle cx="958" cy="74" r="3" stroke-width="6" stroke="currentcolor" />
    <circle cx="1090" cy="74" r="3" stroke-width="6" stroke="currentcolor" />
    <circle cx="1222" cy="74" r="3" stroke-width="6" stroke="currentcolor" />
    <circle cx="1354" cy="74" r="3" stroke-width="6" stroke="currentcolor" />
    <circle cx="1552" cy="125" r="3" stroke-width="6" stroke="currentcolor" />
    <circle cx="1552" cy="25" r="3" stroke-width="6" stroke="currentcolor" />

    <!-- frets -->
    <rect class="string" x="0" y="2" width="4" height="145" fill="url(#Gradient1)" />
    <rect class="string" x="66" y="2" width="4" height="145" fill="url(#Gradient1)" />
    <rect class="string" x="132" y="2" width="4" height="145" fill="url(#Gradient1)" />
    <rect class="string" x="198" y="2" width="4" height="145" fill="url(#Gradient1)" />
    <rect class="string" x="264" y="2" width="4" height="145" fill="url(#Gradient1)" />
    <rect class="string" x="330" y="2" width="4" height="145" fill="url(#Gradient1)" />
    <rect class="string" x="396" y="2" width="4" height="145" fill="url(#Gradient1)" />
    <rect class="string" x="462" y="2" width="4" height="145" fill="url(#Gradient1)" />
    <rect class="string" x="528" y="2" width="4" height="145" fill="url(#Gradient1)" />
    <rect class="string" x="594" y="2" width="4" height="145" fill="url(#Gradient1)" />
    <rect class="string" x="660" y="2" width="4" height="145" fill="url(#Gradient1)" />
    <rect class="string" x="726" y="2" width="4" height="145" fill="url(#Gradient1)" />
    <rect class="string" x="795" y="2" width="4" height="145" fill="url(#Gradient1)" />
    <rect class="string" x="858" y="2" width="4" height="145" fill="url(#Gradient1)" />
    <rect class="string" x="924" y="2" width="4" height="145" fill="url(#Gradient1)" />
    <rect class="string" x="990" y="2" width="4" height="145" fill="url(#Gradient1)" />
    <rect class="string" x="1056" y="2" width="4" height="145" fill="url(#Gradient1)" />
    <rect class="string" x="1122" y="2" width="4" height="145" fill="url(#Gradient1)" />
    <rect class="string" x="1188" y="2" width="4" height="145" fill="url(#Gradient1)" />
    <rect class="string" x="1254" y="2" width="4" height="145" fill="url(#Gradient1)" />
    <rect class="string" x="1320" y="2" width="4" height="145" fill="url(#Gradient1)" />
    <rect class="string" x="1386" y="2" width="4" height="145" fill="url(#Gradient1)" />
    <rect class="string" x="1452" y="2" width="4" height="145" fill="url(#Gradient1)" />
    <rect class="string" x="1518" y="2" width="4" height="145" fill="url(#Gradient1)" />
    <rect class="string" x="1584" y="2" width="4" height="145" fill="url(#Gradient1)" />

    <!-- strings -->
    <rect class="string" x="0" y="11" width="1588" height="1.75" fill="url(#Gradient2)" />
    <rect class="string" x="0" y="36" width="1588" height="2" fill="url(#Gradient2)" />
    <rect class="string" x="0" y="61" width="1588" height="2.25" fill="url(#Gradient2)" />
    <rect class="string" x="0" y="86" width="1588" height="2.5" fill="url(#Gradient2)" />
    <rect class="string" x="0" y="111" width="1588" height="2.75" fill="url(#Gradient2)" />
    <rect class="string" x="0" y="135" width="1588" height="3" fill="url(#Gradient2)" />

  </g>
</svg>
</div>

<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>

<%= form_for(@guitar_study) do |f| %>

<%= f.select :formula, options_from_collection_for_select(@formulas, "id", "name", @guitar_study.formula) %>
<%= f.select :key, options_for_select([['C', '1'],
                                       ['C#/Db', '2'],
                                       ['D', '3'],
                                       ['D#/Eb', '4'],
                                       ['E', '5'],
                                       ['F', '6'],
                                       ['F#/Gb', '7'],
                                       ['G', '8'],
                                       ['G#/Ab', '9'],
                                       ['A', '10'],
                                       ['A#/Bb', '11'],
                                       ['B', '12']], @guitar_study.key) %>

<%= f.select :tonic, options_for_select([['1', '1'],
                                       ['2', '2'],
                                       ['3', '3'],
                                       ['4', '4'],
                                       ['5', '5'],
                                       ['6', '6'],
                                       ['7', '7']], @guitar_study.tonic) %>                                       
                                       

<button id="adjust-fretboard" class="icon"><i class="fas fa-sync fuschia"></i></button>
</div>
<% end %>




